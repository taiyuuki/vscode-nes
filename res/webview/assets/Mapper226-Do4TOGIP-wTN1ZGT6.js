import{n as h}from"./Mapper-DR43KiVi-C3VBMEhO.js";import{t as s}from"./index-C1mDYnUx.js";class a extends h{reg=[0,0];loadROM(){super.loadROM();for(let r=0;r<32;++r)this.prg_map[r]=1024*r&this.prgsize-1;for(let r=0;r<8;++r)this.chr_map[r]=1024*r&this.chrsize-1}cartWrite(r,i){if(r<32768||r>65535)return void super.cartWrite(r,i);this.reg[1&r]=i;let e=this.reg[0]>>1&15|this.reg[0]>>3&16|this.reg[1]<<5&32;if(this.setmirroring(64&this.reg[0]?s.V_MIRROR:s.H_MIRROR),32&this.reg[0]){e=e<<1|1&this.reg[0];for(let t=0;t<16;++t)this.prg_map[t]=1024*(t+16*e)&this.prgsize-1;for(let t=0;t<16;++t)this.prg_map[t+16]=1024*(t+16*e)&this.prgsize-1}else for(let t=0;t<32;++t)this.prg_map[t]=1024*(t+32*e)&this.prgsize-1}}export{a as default};
