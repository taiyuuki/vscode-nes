import{n as i}from"./Mapper-DR43KiVi-C3VBMEhO.js";import"./index-C1mDYnUx.js";class c extends i{hasCHR;constructor(r){super(r),this.hasCHR=r.chrsize>0}loadROM(){super.loadROM();for(let r=0;r<32;r++)this.prg_map[r]=1024*r&this.prgsize-1;for(let r=0;r<8;r++)this.chr_map[r]=1024*r&this.chrsize-1}cartWrite(r,s){if(this.hasCHR){if(r<32765||r>32767)return void super.cartWrite(r,s);switch(r){case 32765:for(let t=0;t<32;++t)this.prg_map[t]=1024*(t+32*s)&this.prgsize-1;break;case 32766:for(let t=0;t<4;++t)this.chr_map[t]=1024*(t+4*s)&this.chrsize-1;break;case 32767:for(let t=0;t<4;++t)this.chr_map[4+t]=1024*(t+4*s)&this.chrsize-1}}else{if(r<32768||r>65535)return void super.cartWrite(r,s);const t=32*(15&s);for(let e=0;e<32;++e)this.prg_map[e]=1024*(e+t)&this.prgsize-1}}}export{c as default};
