import{n as a}from"./Mapper-DR43KiVi-C3VBMEhO.js";import"./index-C1mDYnUx.js";class p extends a{nsfBanking=!0;nsfBanks=[0,0,0,0,0,0,0,255];loadROM(){super.loadROM(),this.setBanks()}cartWrite(t,r){t>=24576&&t<32768?this.prgram[8191&t]=r:t>=20480&&t<24576&&(this.nsfBanks[7&t]=r,this.setBanks())}cartRead(t){if(t>=32768){const r=(32767&t)>>10,s=1023&t;return this.prg[this.prg_map[r]+s]}return t>=24576&&this.hasprgram?this.prgram[8191&t]:t>=20480?this.nsfBanks[7&t]:t>>8}setBanks(){for(let t=0;t<this.prg_map.length;++t)this.prg_map[t]=4096*this.nsfBanks[Math.floor(t/4)]+t%4*1024,this.prg_map[t]>=this.prg.length&&(this.prg_map[t]&=this.prgsize-1)}}export{p as default};
