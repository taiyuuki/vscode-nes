import i from"./MMC3Mapper-C80ixlo9-C15TrJWb.js";import"./index-C1mDYnUx.js";import"./Mapper-DR43KiVi-C3VBMEhO.js";class m extends i{loadROM(){super.loadROM(),this.updateNametableMapping()}executeCommand(t,p){super.executeCommand(t,p),this.updateNametableMapping()}updateNametableMapping(){this.chrconfig?this.updateNametableMappingFromChrBanks([this.chrreg[2],this.chrreg[3],this.chrreg[4],this.chrreg[5]]):this.updateNametableMappingFromChrBanks([this.chrreg[0],this.chrreg[0],this.chrreg[1],this.chrreg[1]])}updateNametableMappingFromChrBanks(t){const p=128&t[0]?1:0,e=128&t[1]?1:0,a=128&t[2]?1:0,s=128&t[3]?1:0;this.nt0=p===0?this.pput0:this.pput1,this.nt1=e===0?this.pput0:this.pput1,this.nt2=a===0?this.pput0:this.pput1,this.nt3=s===0?this.pput0:this.pput1}cartWrite(t,p){super.cartWrite(t,p)}postLoadState(t){super.postLoadState(t),this.updateNametableMapping()}}export{m as default};
